<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/admin/main}">

<main layout:fragment="common">

    <h2>게시판 조회</h2>

    <table class="table text-center">
        <thead>
        <tr>
            <th>게시글 번호</th>
            <th>회원 ID</th>
            <th>별명</th>
            <th>게시판</th>
            <th>제목</th>
            <th>내용</th>
            <th>작성일</th>
            <th>수정일</th>
        </tr>
        </thead>

        <!-- 게시판 내용 반복 -->
        <tr th:each="post : ${posts}">
            <td th:text="${post.pNo}"></td>
            <td th:text="${post.member.mId}"></td>
            <td th:text="${post.member.mNickName}"></td>
            <td th:text="${post.board.bName}"></td>
            <td th:text="${post.pTitle}"></td>
            <td th:text="${post.pContent}"></td>
            <td th:text="${#temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm:ss')}"></td>
            <td th:text="${#temporals.format(post.updatedAt, 'yyyy-MM-dd HH:mm:ss')}"></td>



            <!-- 게시글 삭제 -->
            <td>
                <form th:action="@{'/admin/post/' + ${post.pNo}}" method="post">
                    <input type="hidden" name="_method" value="delete"/>
                    <button type="submit">게시글 삭제</button>
                </form>
            </td>

        </tr>
    </table>

    <!-- 페이징 처리 -->
<!--    <div class="pagination">-->
<!--        <ul>-->
<!--            <li th:if="${posts.first}">First</li>-->
<!--            <li th:unless="${posts.first}" th:href="@{${#request.servletPath}?page=0}">First</li>-->

<!--            <li th:if="${posts.hasPrevious}">-->
<!--                <a th:href="@{${#request.servletPath}?page=${posts.number-1}}">Prev</a>-->
<!--            </li>-->

<!--            <div class="page-numbers">-->
<!--      <span th:each="pageNumber : ${#numbers.sequence(posts.number-2, posts.number+2)}">-->
<!--        &lt;!&ndash; Highlight the current page number &ndash;&gt;-->
<!--        <span th:if="${pageNumber == posts.number}" class="current"-->
<!--              th:text="${pageNumber + 1}"></span>-->

<!--          &lt;!&ndash; Normal page number &ndash;&gt;-->
<!--        <a href="#"-->
<!--           th:unless="${pageNumber == posts.number}"-->
<!--           th:href="@{${#request.servletPath}?page=${pageNumber}}"-->
<!--           th:text="${pageNumber + 1}"></a>-->
<!--      </span>-->
<!--            </div>-->

<!--            &lt;!&ndash; Next page link &ndash;&gt;-->
<!--            <li class="next"-->
<!--                th:if="${!posts.last}">-->
<!--                <a href="#" aria-label="Next" aria-disabled="true">-->
<!--                <i class="fas fa-chevron-right"></i></a></li>-->

<!--            &lt;!&ndash; Last page link &ndash;&gt;-->
<!--            <li><a href="#" aria-label="">Last</a></li>-->
<!--        </ul>-->
<!--    </div>-->

</main>
</html>


